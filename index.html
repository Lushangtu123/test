<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebCode Studio - 在线代码编辑器</title>
    <meta name="description" content="专业的在线代码编辑器，支持HTML、CSS、JavaScript实时预览">
    <meta name="keywords" content="代码编辑器,在线编辑,HTML,CSS,JavaScript,实时预览">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/dracula.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/material.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/eclipse.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldgutter.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-left">
                <h1>💻 WebCode Studio</h1>
                <span class="version">v2.0</span>
            </div>
            <div class="controls">
                <button id="runBtn" class="btn btn-primary" title="运行代码 (Ctrl+Enter)">▶️ 运行</button>
                <button id="formatBtn" class="btn btn-secondary" title="格式化代码">✨ 格式化</button>
                <div class="dropdown">
                    <button id="templateBtn" class="btn btn-info" title="选择模板">📋 模板</button>
                    <div id="templateMenu" class="dropdown-menu"></div>
                </div>
                <div class="dropdown">
                    <button id="exportBtn" class="btn btn-success" title="导出项目">📦 导出</button>
                    <div id="exportMenu" class="dropdown-menu">
                        <button data-action="export-html">导出HTML</button>
                        <button data-action="export-zip">导出ZIP</button>
                        <button data-action="save-json">保存JSON</button>
                    </div>
                </div>
                <button id="loadBtn" class="btn btn-secondary" title="加载项目">📁 加载</button>
                <button id="shareBtn" class="btn btn-info" title="分享项目">🔗 分享</button>
                <div class="dropdown">
                    <button id="settingsBtn" class="btn btn-secondary" title="设置">⚙️</button>
                    <div id="settingsMenu" class="dropdown-menu">
                        <div class="setting-item">
                            <label>主题:</label>
                            <select id="themeSelect">
                                <option value="monokai">Monokai</option>
                                <option value="dracula">Dracula</option>
                                <option value="material">Material</option>
                                <option value="eclipse">Eclipse</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label>字体大小:</label>
                            <select id="fontSizeSelect">
                                <option value="12">12px</option>
                                <option value="14" selected>14px</option>
                                <option value="16">16px</option>
                                <option value="18">18px</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="autoUpdateCheckbox" checked>
                                自动更新
                            </label>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="lineWrapCheckbox" checked>
                                自动换行
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        
        <div class="main-content">
            <div class="editor-panel">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="html">HTML</button>
                    <button class="tab-btn" data-tab="css">CSS</button>
                    <button class="tab-btn" data-tab="js">JavaScript</button>
                </div>
                
                <div class="editor-container">
                    <div class="editor-tab active" id="html-tab">
                        <textarea id="htmlEditor" placeholder="在这里输入HTML代码..."><!DOCTYPE html>
<html>
<head>
    <title>测试页面</title>
</head>
<body>
    <h1>欢迎使用实时预览工具！</h1>
    <p>在左侧编辑代码，右侧会实时显示效果。</p>
    <button onclick="changeColor()">点击改变颜色</button>
    <div id="demo">这是一个演示区域</div>
</body>
</html></textarea>
                    </div>
                    
                    <div class="editor-tab" id="css-tab">
                        <textarea id="cssEditor" placeholder="在这里输入CSS代码...">body {
    font-family: 'Arial', sans-serif;
    margin: 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

h1 {
    text-align: center;
    color: #fff;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}

button {
    background: #4CAF50;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    margin: 10px 0;
}

button:hover {
    background: #45a049;
    transform: translateY(-2px);
    transition: all 0.3s ease;
}

#demo {
    background: rgba(255,255,255,0.1);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    border: 2px solid rgba(255,255,255,0.2);
}</textarea>
                    </div>
                    
                    <div class="editor-tab" id="js-tab">
                        <textarea id="jsEditor" placeholder="在这里输入JavaScript代码...">function changeColor() {
    const demo = document.getElementById('demo');
    const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57'];
    const randomColor = colors[Math.floor(Math.random() * colors.length)];
    demo.style.backgroundColor = randomColor;
    demo.style.transform = 'scale(1.05)';
    
    setTimeout(() => {
        demo.style.transform = 'scale(1)';
    }, 200);
}

// 添加一些交互效果
document.addEventListener('DOMContentLoaded', function() {
    console.log('页面加载完成！');
    
    // 为演示区域添加点击效果
    const demo = document.getElementById('demo');
    if (demo) {
        demo.addEventListener('click', function() {
            this.style.boxShadow = '0 0 20px rgba(255,255,255,0.5)';
            setTimeout(() => {
                this.style.boxShadow = 'none';
            }, 300);
        });
    }
});</textarea>
                    </div>
                </div>
            </div>
            
            <div class="preview-panel">
                <div class="preview-header">
                    <h3>🖥️ 实时预览</h3>
                    <div class="preview-controls">
                        <button id="deviceMobileBtn" class="btn-small" title="移动设备视图">📱</button>
                        <button id="deviceTabletBtn" class="btn-small" title="平板视图">📱</button>
                        <button id="deviceDesktopBtn" class="btn-small active" title="桌面视图">🖥️</button>
                        <button id="refreshBtn" class="btn-small" title="刷新">🔄</button>
                        <button id="fullscreenBtn" class="btn-small" title="全屏">⛶</button>
                    </div>
                </div>
                <div class="preview-wrapper">
                    <iframe id="preview" sandbox="allow-scripts allow-same-origin"></iframe>
                </div>
                <div class="console-panel" id="consolePanel">
                    <div class="console-header">
                        <h4>📊 控制台</h4>
                        <div>
                            <button id="clearConsoleBtn" class="btn-tiny">清空</button>
                            <button id="toggleConsoleBtn" class="btn-tiny">收起</button>
                        </div>
                    </div>
                    <div class="console-content" id="consoleContent"></div>
                </div>
            </div>
        </div>
        
        <div class="status-bar">
            <div class="status-left">
                <span id="status">准备就绪</span>
                <span id="lastUpdate"></span>
            </div>
            <div class="status-right">
                <span id="lineCount">行: 0</span>
                <span id="charCount">字符: 0</span>
                <span class="status-divider">|</span>
                <span id="currentTab">HTML</span>
            </div>
        </div>
    </div>

    <!-- 模态框：分享 -->
    <div id="shareModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>🔗 分享项目</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="share-section">
                    <label>分享链接：</label>
                    <div class="input-group">
                        <input type="text" id="shareLink" readonly>
                        <button id="copyLinkBtn" class="btn btn-primary">复制</button>
                    </div>
                </div>
                <div class="share-section">
                    <label>二维码：</label>
                    <div id="qrcode" class="qrcode-container"></div>
                </div>
                <div class="share-tips">
                    💡 提示：链接已包含当前代码，通过LocalStorage保存
                </div>
            </div>
        </div>
    </div>

    <!-- 模态框：关于 -->
    <div id="aboutModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>💻 关于 WebCode Studio</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="about-section">
                    <h3>📦 项目介绍</h3>
                    <p>WebCode Studio 是一个功能强大的在线代码编辑器，支持HTML、CSS、JavaScript的实时预览和编辑。</p>
                </div>
                <div class="about-section">
                    <h3>✨ 核心功能</h3>
                    <ul>
                        <li>🎨 实时代码预览</li>
                        <li>🌈 多主题切换</li>
                        <li>📋 丰富的代码模板</li>
                        <li>💾 项目导出与保存</li>
                        <li>🔗 一键分享功能</li>
                        <li>📱 响应式预览</li>
                        <li>📊 实时控制台输出</li>
                    </ul>
                </div>
                <div class="about-section">
                    <h3>🛠️ 技术栈</h3>
                    <p>HTML5 + CSS3 + JavaScript (ES6+) + CodeMirror</p>
                </div>
                <div class="about-section">
                    <h3>👨‍💻 开发者</h3>
                    <p>Version 2.0 | 2025</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 隐藏的文件输入 -->
    <input type="file" id="fileInput" accept=".json" style="display: none;">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/xml/xml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/css/css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/htmlmixed/htmlmixed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldgutter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/brace-fold.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/xml-fold.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/comment-fold.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="templates.js"></script>
    <script src="script.js"></script>
</body>
</html>



